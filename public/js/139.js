(self.webpackChunk=self.webpackChunk||[]).push([[139],{3139:(t,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>x});var o=e(5166),d=(0,o.withScopeId)("data-v-d404483a");(0,o.pushScopeId)("data-v-d404483a");var c=(0,o.createStaticVNode)('<div class="container-fluid p-0" data-v-d404483a><h1 class="h3 mb-3" data-v-d404483a>Pending Contracts</h1><div class="row" data-v-d404483a><div class="col-12" data-v-d404483a><div class="card" data-v-d404483a><div class="card-header" data-v-d404483a> Pending Contracts </div><div class="card-body" data-v-d404483a><div class="row" data-v-d404483a><div class="col-12 mt-3" data-v-d404483a><table id="contracts-table" class="table table-hover" style="width:100%;" data-v-d404483a></table></div></div></div></div></div></div></div>',1),n={id:"contract-overview-modal",class:"modal fade",tabindex:"-1"},l={class:"modal-dialog modal-xl"},r={class:"modal-content"},i={class:"modal-header"},s={class:"modal-title"},v=(0,o.createVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),u={class:"modal-body"},m={class:"row"},p={class:"col-6 m-1 border p-3"},b={class:"me-4"},h={class:"modal-footer"},_={id:"contract-image-modal",class:"modal fade",tabindex:"-1"},f={class:"modal-dialog modal-fullscreen"},w={class:"modal-content"},y={class:"modal-header"},N={class:"modal-title"},V=(0,o.createTextVNode)("Contract Overview Of "),g=(0,o.createVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),k={class:"modal-body"};(0,o.popScopeId)();var C=d((function(t,a,e,d,C,S){return(0,o.openBlock)(),(0,o.createBlock)("div",null,[c,(0,o.createVNode)("div",n,[(0,o.createVNode)("div",l,[(0,o.createVNode)("div",r,[(0,o.createVNode)("div",i,[(0,o.createVNode)("h5",s,[(0,o.createTextVNode)("Contract Overview Of "+(0,o.toDisplayString)(C.other_details.type)+" ",1),(0,o.createVNode)("u",null,(0,o.toDisplayString)(C.other_details.custom_id),1)]),v]),(0,o.createVNode)("div",u,[(0,o.createVNode)("div",m,[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(C.contents,(function(t){return(0,o.openBlock)(),(0,o.createBlock)("div",p,[(0,o.createVNode)("span",b,(0,o.toDisplayString)(t.label),1),(0,o.createVNode)("button",{class:"btn btn-primary",onClick:function(a){return S.viewImage(t.value)}},"View",8,["onClick"])])})),256))])]),(0,o.createVNode)("div",h,[(0,o.createVNode)("button",{class:"btn btn-success text-white",onClick:a[1]||(a[1]=function(){return S.approve&&S.approve.apply(S,arguments)})},"Approve")])])])]),(0,o.createVNode)("div",_,[(0,o.createVNode)("div",f,[(0,o.createVNode)("div",w,[(0,o.createVNode)("div",y,[(0,o.createVNode)("h5",N,[V,(0,o.createVNode)("u",null,(0,o.toDisplayString)(C.other_details.custom_id),1)]),g]),(0,o.createVNode)("div",k,[(0,o.createVNode)("img",{src:"/storage/"+C.image_path,style:{width:"100%"}},null,8,["src"])])])])])])}));const S={name:"Contracts",props:["data"],data:function(){return{dt:null,contents:{},other_details:{},image_path:"",contract_overview_modal:null}},methods:{showOverview:function(t){var a=this;axios.post(this.data.contract_overview_link,{id:t}).then((function(t){a.contents=t.data.contents,a.other_details=t.data.other,a.contract_overview_modal.show()}))},viewImage:function(t){this.image_path=t,this.contract_image_modal.show()},approve:function(){var t=this;alertify.confirm("Approval Confirmation","Do you confirm?",(function(){axios.post(t.data.contracts_approval,t.other_details).then((function(){t.contract_overview_modal.hide(),t.dt.draw(),alertify.alert("You successfully approved the contract!",(function(){window.location="/contracts"}))}))}),(function(){alertify.error("Cancel")}))}},mounted:function(){var t=this;t.contract_overview_modal=new bootstrap.Modal(document.getElementById("contract-overview-modal"),{keyboard:!1}),t.contract_image_modal=new bootstrap.Modal(document.getElementById("contract-image-modal"),{keyboard:!1}),t.dt=$("#contracts-table").DataTable({serverSide:!0,ajax:{url:t.data.contract_pending_table_link,type:"POST"},order:[[0,"desc"]],columns:[{data:function(t){return'<button type="button" class="btn-custom-id btn btn-sm btn-link">'+t.custom_id+"</button>"},name:"custom_id",title:"Contract No."},{data:"type",name:"type",title:"Type"},{data:"status",name:"ca.status",title:"Status"},{data:"creator.name",name:"creator.name",title:"Sent By"},{data:"created_at",name:"created_at",title:"Date Submitted"}],drawCallback:function(a){$("body .btn-custom-id").on("click",(function(){t.showOverview(t.dt.row($(this).parent()).data().id)}))}})}};S.render=C,S.__scopeId="data-v-d404483a";const x=S}}]);
//# sourceMappingURL=139.js.map?id=abcbeed219441d83d74c