{"version":3,"sources":["webpack:///./resources/js/Pages/Roles.vue","webpack:///./resources/js/Pages/Roles.vue?9d5c"],"names":["class","id","style","tabindex","type","props","data","Object","role_edit_modal","role_add_modal","role_name","myToast","overview","methods","showAddModal","this","show","saveRole","$this","hide","axios","post","$props","roles_store_link","then","value","alertify","success","dt","draw","error","console","log","response","errors","message","$","each","index","item","alert","editRole","roles_update_link","deleteRole","roles_delete_link","mounted","bootstrap","Modal","document","getElementById","keyboard","DataTable","serverSide","ajax","url","roles_table_link","name","drawCallback","settings","on","row","parent","abilities"],"mappings":"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","file":"js/264.js?id=4fbd3e946a82e8b4f028","sourcesContent":["<template>\n    <div>\n        <div class=\"container-fluid p-0\">\n            <h1 class=\"h3 mb-3\">Roles and Abilities</h1>\n            <div class=\"row\">\n                <div class=\"col-12\">\n                    <div class=\"card\">\n                        <div class=\"card-header\">\n                            Roles Data Table\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"row\">\n                                <div class=\"col-12 mb-3\">\n                                    <button class=\"btn btn-primary\" @click=\"showAddModal()\">Add a Role</button>\n                                </div>\n                                <div class=\"col-12 mb-3\">\n                                    <table id=\"roles-table\" class=\"table table-hover\" style=\"width: 100%\"></table>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Role Add Modal -->\n        <div id=\"role-add-modal\" class=\"modal fade\" tabindex=\"-1\">\n            <div class=\"modal-dialog modal-sm\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">Add Role Modal</h5>\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                    </div>\n                    <div class=\"modal-body\">\n                        <div class=\"d-flex flex-column\">\n                            <label>Role Name</label>\n                            <input type=\"text\" class=\"form-control\" v-model=\"role_name\">\n                        </div>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                        <button type=\"button\" class=\"btn btn-success text-white\" @click=\"saveRole\">Save changes</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Role Edit Modal -->\n        <div id=\"role-edit-modal\" class=\"modal fade\" tabindex=\"-1\">\n            <div class=\"modal-dialog\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">Edit Role Modal</h5>\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                    </div>\n                    <div class=\"modal-body\">\n                        <div class=\"d-flex flex-column\">\n                            <label>Role Name</label>\n                            <input type=\"text\" class=\"form-control\" v-model=\"overview.name\">\n                        </div>\n                        <h5 class=\"my-2\">Manage Users</h5>\n                        <div class=\"d-flex flex-wrap\">\n                            <div class=\"form-check form-switch me-3\">\n                                <input class=\"form-check-input\" type=\"checkbox\" value=\"home\" v-model=\"overview.abilities\">\n                                <label class=\"form-check-label\">Dashboard</label>\n                            </div>\n                            <div class=\"form-check form-switch me-3\">\n                                <input class=\"form-check-input\" type=\"checkbox\" value=\"my-contracts\" v-model=\"overview.abilities\">\n                                <label class=\"form-check-label\">My Contracts</label>\n                            </div>\n                            <div class=\"form-check form-switch me-3\">\n                                <input class=\"form-check-input\" type=\"checkbox\" value=\"contracts\" v-model=\"overview.abilities\">\n                                <label class=\"form-check-label\">Contracts</label>\n                            </div>\n                            <div class=\"form-check form-switch me-3\">\n                                <input class=\"form-check-input\" type=\"checkbox\" value=\"manage-users\" v-model=\"overview.abilities\">\n                                <label class=\"form-check-label\">Manage Users</label>\n                            </div>\n                            <div class=\"form-check form-switch me-3\">\n                                <input class=\"form-check-input\" type=\"checkbox\" value=\"users\" v-model=\"overview.abilities\">\n                                <label class=\"form-check-label\">Users</label>\n                            </div>\n                            <div class=\"form-check form-switch me-3\">\n                                <input class=\"form-check-input\" type=\"checkbox\" value=\"roles\" v-model=\"overview.abilities\">\n                                <label class=\"form-check-label\">Roles</label>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                        <button type=\"button\" class=\"btn btn-danger text-white\" @click=\"deleteRole\">Delete</button>\n                        <button type=\"button\" class=\"btn btn-info text-white\" @click=\"editRole\">Update</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        props: {\n            data: Object,\n        },\n        data() {\n            return {\n                role_edit_modal: null,\n                role_add_modal: null,\n                role_name: '',\n                myToast: null,\n                overview: {},\n            }\n        },\n        methods: {\n            showAddModal() {\n                this.role_add_modal.show();\n                this.role_name = '';\n            },\n            saveRole() {\n                var $this = this;\n                $this.role_add_modal.hide();\n                axios.post(this.$props.data.roles_store_link, {role_name: this.role_name})\n                    .then(function (value) {\n                        alertify.success('<label class=\"text-white\">Success!</label>');\n                        $this.dt.draw();\n                    })\n                    .catch(function (error) {\n                        console.log(error.response.data.errors);\n                        var errors = error.response.data.errors;\n                        var message = '';\n                        $.each(errors, function (index, item) {\n                            $.each(item, function (index, item) {\n                                message += item + '\\n';\n                            })\n                        });\n                        alertify.alert(message, function () {\n                            alertify.message('OK');\n                        });\n                    });\n            },\n            editRole() {\n                var $this = this;\n                $this.role_add_modal.hide();\n                axios.post(this.$props.data.roles_update_link, this.overview)\n                    .then(function (value) {\n                        alertify.success('<label class=\"text-white\">Success!</label>');\n                        $this.dt.draw();\n                    })\n                    .catch(function (error) {\n                        console.log(error.response.data.errors);\n                        var errors = error.response.data.errors;\n                        var message = '';\n                        $.each(errors, function (index, item) {\n                            $.each(item, function (index, item) {\n                                message += item + '\\n';\n                            })\n                        });\n                        alertify.alert(message, function () {\n                            alertify.message('OK');\n                        });\n                    });\n            },\n            deleteRole() {\n                var $this = this;\n                $this.role_edit_modal.hide();\n                axios.post(this.$props.data.roles_delete_link, this.overview)\n                    .then(function (value) {\n                        alertify.success('<label class=\"text-white\">Success!</label>');\n                        $this.dt.draw();\n                    })\n                    .catch(function (error) {\n                        console.log(error.response.data.errors);\n                        var errors = error.response.data.errors;\n                        var message = '';\n                        $.each(errors, function (index, item) {\n                            $.each(item, function (index, item) {\n                                message += item + '\\n';\n                            })\n                        });\n                        alertify.alert(message, function () {\n                            alertify.message('OK');\n                        });\n                    });\n            }\n        },\n        mounted() {\n            var $this = this;\n\n            this.role_add_modal = new bootstrap.Modal(document.getElementById('role-add-modal'), {\n                keyboard: false\n            });\n\n            this.role_edit_modal = new bootstrap.Modal(document.getElementById('role-edit-modal'), {\n                keyboard: false\n            });\n\n            this.dt = $('#roles-table').DataTable({\n                serverSide: true,\n                ajax: {\n                    url: $this.data.roles_table_link,\n                    type: 'POST'\n                },\n                \"order\": [[ 0, \"desc\" ]],\n                \"columns\": [\n                    {\"data\": \"id\", \"title\": \"ID\"},\n                    {\n                        \"data\": function (value) {\n                            return \"<button class='btn btn-link'>\" + value.name + \"</button>\";\n                        }, \"title\": \"Name\"\n                    },\n                    {\"data\": \"created_at\", \"title\": \"Created At\"},\n                    {\"data\": \"updated_at\", \"title\": \"Created At\"},\n                ],\n                drawCallback: function (settings) {\n                    $('#roles-table tr button').on('click', function () {\n                        $this.overview = $this.dt.row($(this).parent().parent()).data();\n                        $this.role_edit_modal.show();\n                    });\n                }\n            });\n        }\n    }\n</script>\n","import { render } from \"./Roles.vue?vue&type=template&id=bf623684\"\nimport script from \"./Roles.vue?vue&type=script&lang=js\"\nexport * from \"./Roles.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}