{"version":3,"sources":["webpack:///./resources/js/Pages/MyContract.vue","webpack:///./resources/js/Pages/MyContract.vue?6768"],"names":["class","id","style","tabindex","type","showAddContract","submit","overview","details","item","label","value","name","$event","target","files","save","other_details","custom_id","contents","viewImage","src","image_path","props","data","dt","contract_add_modal","contract_overview_modal","this","$inertia","form","methods","$this","post","contract_store_link","preserveScroll","onSuccess","reset","hide","draw","show","showOverview","axios","contract_overview_link","then","other","link","contract_image_modal","watch","length","alertify","error","mounted","bootstrap","Modal","document","getElementById","keyboard","$","DataTable","serverSide","ajax","url","contract_table_link","statuses","each","audit","idx","status","bSortable","drawCallback","settings","on","row","parent","render"],"mappings":"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","file":"js/447.js?id=ee6f6fe75ba196e09871","sourcesContent":["<template>\n    <div>\n        <div class=\"container-fluid p-0\">\n            <h1 class=\"h3 mb-3\">My Contracts</h1>\n            <div class=\"row\">\n                <div class=\"col-12\">\n                    <div class=\"card\">\n                        <div class=\"card-header\">\n                            My Contracts Data Table\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"row\">\n                                <div class=\"col-12\">\n                                    <button class=\"btn btn-primary\" @click=\"showAddContract\">Add a Contract</button>\n                                </div>\n                                <div class=\"col-12 mt-3\">\n                                    <table id=\"contracts-table\" class=\"table table-hover table-bordered\"\n                                           style=\"width: 100%\"></table>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Contract Add Modal -->\n        <div id=\"contract-add-modal\" class=\"modal fade\" tabindex=\"-1\">\n            <div class=\"modal-dialog modal-xl\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">Contract Add Modal</h5>\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                    </div>\n                    <div class=\"modal-body\">\n                        <form @submit.prevent=\"submit\">\n                            <div class=\"d-flex flex-column flex-md-fill\">\n                                <div class=\"d-flex\">\n                                    <label class=\"flex-grow-1 mb-3\">\n                                        Contract Type\n                                        <select class=\"form-select\" v-model=\"overview.type\"\n                                                v-bind:class=\"{'is-invalid': overview.type === ''}\">\n                                            <option value=\"\">-- Select Option --</option>\n                                            <option\n                                                value=\"(Standard Contract) Household Service Worker Contract\">\n                                                (Standard Contract) Household Service Worker Contract\n                                            </option>\n                                            <option\n                                                value=\"(Standard Contract) Skilled Worker Contract\">\n                                                (Standard Contract) Skilled Worker Contract\n                                            </option>\n                                            <option\n                                                value=\"(BM Contract) Household Service Worker Contract\">\n                                                (BM Contract) Household Service Worker Contract\n                                            </option>\n                                            <option\n                                                value=\"(BM Contract) Skilled Worker Contract\">\n                                                (BM Contract) Skilled Worker Contract\n                                            </option>\n                                        </select>\n                                    </label>\n                                </div>\n                                <div class=\"row\">\n                                    <div class=\"col-6 text-center\" v-for=\"item in overview.details\">\n                                        <label class=\"flex-grow-1 mb-3\">\n                                            {{ item.label }}\n                                            <input class=\"form-control\"\n                                                   v-bind:name=\"item.name\"\n                                                   type=\"file\"\n                                                   v-bind:class=\"{'is-invalid': item.value === ''}\"\n                                                   @input=\"item.value = $event.target.files[0]\">\n                                        </label>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"modal-footer\">\n                                <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                                <button type=\"button\" class=\"btn btn-primary\" @click=\"save()\">Save changes</button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Contract Overview Modal -->\n        <div id=\"contract-overview-modal\" class=\"modal fade\" tabindex=\"-1\">\n            <div class=\"modal-dialog modal-xl\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">Contract Overview Of {{ other_details.type }} <u>{{ other_details.custom_id }}</u></h5>\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                    </div>\n                    <div class=\"modal-body\">\n                        <div class=\"row\">\n                            <div class=\"col-auto m-1 border p-3\" v-for=\"item in contents\">\n                                <span class=\"me-4\">{{ item.label }}</span>\n                                <button class=\"btn btn-primary\" @click=\"viewImage(item.value)\">View</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Contract Overview Modal -->\n        <div id=\"contract-image-modal\" class=\"modal fade\" tabindex=\"-1\">\n            <div class=\"modal-dialog modal-fullscreen\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">Contract Overview Of <u>{{ other_details.custom_id }}</u></h5>\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                    </div>\n                    <div class=\"modal-body\">\n                        <img v-bind:src=\"'/storage/' + image_path\" style=\"width:100%\">\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"My Contracts\",\n        props: ['data', 'errors'],\n        data() {\n            return {\n                dt: null,\n                contract_add_modal: null,\n                contract_overview_modal: null,\n                overview: this.$inertia.form({\n                    type: '',\n                    details: [\n                        {'label': 'Request Letter', 'name': 'request-letter', 'value': ''},\n                        {'label': 'Job Order - CHAMBERED', 'name': 'job-order', 'value': ''},\n                        {'label': 'Visa Issued by ENJAZ with English Text', 'name': 'visa', 'value': ''},\n                        {'label': 'Special Power of Attorney - CHAMBERED', 'name': 'spa', 'value': ''},\n                        {'label': 'Recruitment Agreement', 'name': 'rec-agreement', 'value': ''},\n                        {'label': 'Master Employment Contract - CHAMBERED', 'name': 'master-emp-contract', 'value': ''},\n                        {'label': 'Commercial Registration', 'name': 'comm-registration', 'value': ''},\n                        {\n                            'label': 'Commercial Activity License / Business License',\n                            'name': 'business-license',\n                            'value': ''\n                        },\n                        {'label': 'POEA License of Philippine Agency', 'name': 'poea-license', 'value': ''},\n                        {'label': 'Contingency Plan', 'name': 'contingency-plan', 'value': ''},\n                        {'label': 'Affidavit of Undertaking', 'name': 'affidavit', 'value': ''},\n                        {'label': 'Copy of Employer\\'s ID / Passport', 'name': 'employer_id', 'value': ''},\n                        {'label': 'List Of Current Filipino Workers', 'name': 'current-filipino-workers', 'value': ''},\n                        {'label': 'Location Sketch Of The Company', 'name': 'location-sketch', 'value': ''},\n                        {'label': 'Pictures of Workers\\' Accommodation', 'name': 'workers-accomodation', 'value': ''},\n                        {\n                            'label': 'Motor Vehicle Insurance Policy (for DRIVERS)',\n                            'name': 'vehicle-insurance',\n                            'value': ''\n                        },\n                        {'label': 'Other Required Documents', 'name': 'other-documents', 'value': ''},\n                    ]\n                }),\n                contents: {},\n                other_details: {},\n                image_path: '',\n            }\n        },\n        methods: {\n            save() {\n                var $this = this;\n                this.overview.post(this.data.contract_store_link, {\n                    preserveScroll: true,\n                    onSuccess: function () {\n                        $this.overview.reset();\n                        $this.contract_add_modal.hide();\n                        $this.dt.draw();\n                    }\n                });\n            },\n            showAddContract() {\n                this.contract_add_modal.show()\n            },\n            showOverview(id) {\n                var $this = this;\n                axios.post(this.data.contract_overview_link, {id: id}).then(function (value) {\n                    $this.contents = value.data.contents;\n                    $this.other_details = value.data.other;\n                    $this.contract_overview_modal.show();\n                });\n            },\n            viewImage(link) {\n                this.image_path = link;\n                this.contract_image_modal.show()\n            }\n        },\n        watch: {\n            'errors': function (value) {\n                if (value.length > 0) {\n                    alertify.error('Please fill all fields.');\n                }\n            }\n        },\n        mounted() {\n            var $this = this;\n            $this.contract_add_modal = new bootstrap.Modal(document.getElementById('contract-add-modal'), {\n                keyboard: false\n            });\n\n            $this.contract_overview_modal = new bootstrap.Modal(document.getElementById('contract-overview-modal'), {\n                keyboard: false\n            });\n\n            $this.contract_image_modal = new bootstrap.Modal(document.getElementById('contract-image-modal'), {\n                keyboard: false\n            });\n\n            $this.dt = $('#contracts-table').DataTable({\n                serverSide: true,\n                ajax: {\n                    url: $this.data.contract_table_link,\n                    type: 'POST'\n                },\n                \"order\": [[0, \"desc\"]],\n                \"columns\": [\n                    {\"data\": 'created_at', \"name\": \"created_at\", \"title\": \"Date Submitted\"},\n                    {\n                        \"data\": function (value) {\n                            var statuses = '';\n                            $.each(value.audit, function (idx, item) {\n                                statuses += '<span class=\"badge bg-primary\">' + item.status + '</span>'\n                            });\n\n                            return statuses;\n                        }, \"name\": \"id\", \"title\": \"Status\", bSortable: false\n                    },\n                    {\n                        \"data\": function (value) {\n                            return '<button type=\"button\" class=\"btn-custom-id btn btn-sm btn-link\">' +\n                                value.custom_id + '</button>';\n                        }, \"name\": \"custom_id\", \"title\": \"Contract No.\"\n                    },\n                    {\"data\": 'type', \"name\": \"type\", \"title\": \"Type\"},\n                ],\n                drawCallback: function (settings) {\n                    $('body .btn-custom-id').on('click', function () {\n                        $this.showOverview($this.dt.row($(this).parent()).data().id);\n                    });\n                }\n            });\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n","import { render } from \"./MyContract.vue?vue&type=template&id=20ba943d&scoped=true\"\nimport script from \"./MyContract.vue?vue&type=script&lang=js\"\nexport * from \"./MyContract.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-20ba943d\"\n\nexport default script"],"sourceRoot":""}