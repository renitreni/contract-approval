(self.webpackChunk=self.webpackChunk||[]).push([[469],{9469:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>W});var o=a(5166),l={class:"container-fluid p-0"},c=(0,o.createVNode)("h1",{class:"h3 mb-3"},"Roles and Abilities",-1),s={class:"row"},r={class:"col-12"},d={class:"card"},i=(0,o.createVNode)("div",{class:"card-header"}," Roles Data Table ",-1),n={class:"card-body"},u={class:"row"},m={class:"col-12 mb-3"},b=(0,o.createVNode)("div",{class:"col-12 mb-3"},[(0,o.createVNode)("table",{id:"roles-table",class:"table table-hover",style:{width:"100%"}})],-1),v={id:"role-add-modal",class:"modal fade",tabindex:"-1"},h={class:"modal-dialog modal-sm"},f={class:"modal-content"},p=(0,o.createVNode)("div",{class:"modal-header"},[(0,o.createVNode)("h5",{class:"modal-title"},"Add Role Modal"),(0,o.createVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),V={class:"modal-body"},N={class:"d-flex flex-column"},w=(0,o.createVNode)("label",null,"Role Name",-1),k={class:"modal-footer"},y=(0,o.createVNode)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),x={id:"role-edit-modal",class:"modal fade",tabindex:"-1"},_={class:"modal-dialog"},C={class:"modal-content"},M=(0,o.createVNode)("div",{class:"modal-header"},[(0,o.createVNode)("h5",{class:"modal-title"},"Edit Role Modal"),(0,o.createVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),g={class:"modal-body"},R={class:"d-flex flex-column"},D=(0,o.createVNode)("label",null,"Role Name",-1),U=(0,o.createVNode)("h5",{class:"my-2"},"Manage Users",-1),A={class:"d-flex flex-wrap"},S={class:"form-check form-switch me-3"},T=(0,o.createVNode)("label",{class:"form-check-label"},"Case Management",-1),O={class:"form-check form-switch me-3"},B=(0,o.createVNode)("label",{class:"form-check-label"},"Dashboard",-1),E={class:"form-check form-switch me-3"},I=(0,o.createVNode)("label",{class:"form-check-label"},"My Contracts",-1),K={class:"form-check form-switch me-3"},j=(0,o.createVNode)("label",{class:"form-check-label"},"Contracts",-1),P={class:"form-check form-switch me-3"},q=(0,o.createVNode)("label",{class:"form-check-label"},"Manage Users",-1),z={class:"form-check form-switch me-3"},F=(0,o.createVNode)("label",{class:"form-check-label"},"Users",-1),G={class:"form-check form-switch me-3"},H=(0,o.createVNode)("label",{class:"form-check-label"},"Roles",-1),J={class:"modal-footer"},L=(0,o.createVNode)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1);const Q={props:{data:Object},data:function(){return{role_edit_modal:null,role_add_modal:null,role_name:"",myToast:null,overview:{}}},methods:{showAddModal:function(){this.role_add_modal.show(),this.role_name=""},saveRole:function(){var e=this;e.role_add_modal.hide(),axios.post(this.$props.data.roles_store_link,{role_name:this.role_name}).then((function(t){alertify.success('<label class="text-white">Success!</label>'),e.dt.draw()})).catch((function(e){console.log(e.response.data.errors);var t=e.response.data.errors,a="";$.each(t,(function(e,t){$.each(t,(function(e,t){a+=t+"\n"}))})),alertify.alert(a,(function(){alertify.message("OK")}))}))},editRole:function(){var e=this;e.role_add_modal.hide(),axios.post(this.$props.data.roles_update_link,this.overview).then((function(t){alertify.success('<label class="text-white">Success!</label>'),e.dt.draw()})).catch((function(e){console.log(e.response.data.errors);var t=e.response.data.errors,a="";$.each(t,(function(e,t){$.each(t,(function(e,t){a+=t+"\n"}))})),alertify.alert(a,(function(){alertify.message("OK")}))}))},deleteRole:function(){var e=this;e.role_edit_modal.hide(),axios.post(this.$props.data.roles_delete_link,this.overview).then((function(t){alertify.success('<label class="text-white">Success!</label>'),e.dt.draw()})).catch((function(e){console.log(e.response.data.errors);var t=e.response.data.errors,a="";$.each(t,(function(e,t){$.each(t,(function(e,t){a+=t+"\n"}))})),alertify.alert(a,(function(){alertify.message("OK")}))}))}},mounted:function(){var e=this;this.role_add_modal=new bootstrap.Modal(document.getElementById("role-add-modal"),{keyboard:!1}),this.role_edit_modal=new bootstrap.Modal(document.getElementById("role-edit-modal"),{keyboard:!1}),this.dt=$("#roles-table").DataTable({serverSide:!0,ajax:{url:e.data.roles_table_link,type:"POST"},order:[[0,"desc"]],columns:[{data:"id",title:"ID"},{data:function(e){return"<button class='btn btn-link'>"+e.name+"</button>"},title:"Name"},{data:"created_at",title:"Created At"},{data:"updated_at",title:"Created At"}],drawCallback:function(t){$("#roles-table tr button").on("click",(function(){e.overview=e.dt.row($(this).parent().parent()).data(),e.role_edit_modal.show()}))}})},render:function(e,t,a,$,Q,W){return(0,o.openBlock)(),(0,o.createBlock)("div",null,[(0,o.createVNode)("div",l,[c,(0,o.createVNode)("div",s,[(0,o.createVNode)("div",r,[(0,o.createVNode)("div",d,[i,(0,o.createVNode)("div",n,[(0,o.createVNode)("div",u,[(0,o.createVNode)("div",m,[(0,o.createVNode)("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=function(e){return W.showAddModal()})},"Add a Role")]),b])])])])])]),(0,o.createVNode)("div",v,[(0,o.createVNode)("div",h,[(0,o.createVNode)("div",f,[p,(0,o.createVNode)("div",V,[(0,o.createVNode)("div",N,[w,(0,o.withDirectives)((0,o.createVNode)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=function(e){return Q.role_name=e})},null,512),[[o.vModelText,Q.role_name]])])]),(0,o.createVNode)("div",k,[y,(0,o.createVNode)("button",{type:"button",class:"btn btn-success text-white",onClick:t[3]||(t[3]=function(){return W.saveRole&&W.saveRole.apply(W,arguments)})},"Save changes")])])])]),(0,o.createVNode)("div",x,[(0,o.createVNode)("div",_,[(0,o.createVNode)("div",C,[M,(0,o.createVNode)("div",g,[(0,o.createVNode)("div",R,[D,(0,o.withDirectives)((0,o.createVNode)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=function(e){return Q.overview.name=e})},null,512),[[o.vModelText,Q.overview.name]])]),U,(0,o.createVNode)("div",A,[(0,o.createVNode)("div",S,[(0,o.withDirectives)((0,o.createVNode)("input",{class:"form-check-input",type:"checkbox",value:"case-management","onUpdate:modelValue":t[5]||(t[5]=function(e){return Q.overview.abilities=e})},null,512),[[o.vModelCheckbox,Q.overview.abilities]]),T]),(0,o.createVNode)("div",O,[(0,o.withDirectives)((0,o.createVNode)("input",{class:"form-check-input",type:"checkbox",value:"home","onUpdate:modelValue":t[6]||(t[6]=function(e){return Q.overview.abilities=e})},null,512),[[o.vModelCheckbox,Q.overview.abilities]]),B]),(0,o.createVNode)("div",E,[(0,o.withDirectives)((0,o.createVNode)("input",{class:"form-check-input",type:"checkbox",value:"my-contracts","onUpdate:modelValue":t[7]||(t[7]=function(e){return Q.overview.abilities=e})},null,512),[[o.vModelCheckbox,Q.overview.abilities]]),I]),(0,o.createVNode)("div",K,[(0,o.withDirectives)((0,o.createVNode)("input",{class:"form-check-input",type:"checkbox",value:"contracts","onUpdate:modelValue":t[8]||(t[8]=function(e){return Q.overview.abilities=e})},null,512),[[o.vModelCheckbox,Q.overview.abilities]]),j]),(0,o.createVNode)("div",P,[(0,o.withDirectives)((0,o.createVNode)("input",{class:"form-check-input",type:"checkbox",value:"manage-users","onUpdate:modelValue":t[9]||(t[9]=function(e){return Q.overview.abilities=e})},null,512),[[o.vModelCheckbox,Q.overview.abilities]]),q]),(0,o.createVNode)("div",z,[(0,o.withDirectives)((0,o.createVNode)("input",{class:"form-check-input",type:"checkbox",value:"users","onUpdate:modelValue":t[10]||(t[10]=function(e){return Q.overview.abilities=e})},null,512),[[o.vModelCheckbox,Q.overview.abilities]]),F]),(0,o.createVNode)("div",G,[(0,o.withDirectives)((0,o.createVNode)("input",{class:"form-check-input",type:"checkbox",value:"roles","onUpdate:modelValue":t[11]||(t[11]=function(e){return Q.overview.abilities=e})},null,512),[[o.vModelCheckbox,Q.overview.abilities]]),H])])]),(0,o.createVNode)("div",J,[L,(0,o.createVNode)("button",{type:"button",class:"btn btn-danger text-white",onClick:t[12]||(t[12]=function(){return W.deleteRole&&W.deleteRole.apply(W,arguments)})},"Delete"),(0,o.createVNode)("button",{type:"button",class:"btn btn-info text-white",onClick:t[13]||(t[13]=function(){return W.editRole&&W.editRole.apply(W,arguments)})},"Update")])])])])])}},W=Q}}]);
//# sourceMappingURL=469.js.map?id=ef770540275c0f8e2f81