(self.webpackChunk=self.webpackChunk||[]).push([[494],{8494:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>Z});var o=t(5166),l=(0,o.withScopeId)("data-v-f0f1f300");(0,o.pushScopeId)("data-v-f0f1f300");var s=(0,o.createVNode)("head",null,[(0,o.createVNode)("title",null,"Cases")],-1),c={class:"container-fluid p-0"},r=(0,o.createVNode)("h1",{class:"h3 mb-3"},"Cases",-1),d={class:"row"},n={class:"col-12"},i={class:"card"},v=(0,o.createVNode)("div",{class:"card-header"}," Overview ",-1),m={class:"card-body px-1 py-2"},p={class:"row p-4"},u={class:"col-md-12"},f=(0,o.createVNode)("i",{class:"fas fa-plus"},null,-1),w=(0,o.createTextVNode)(" Add Case "),y=(0,o.createVNode)("div",{class:"col-md-12 mt-4"},[(0,o.createVNode)("table",{id:"cases-table",class:"table table-bordered nowrap",style:{width:"100%"}})],-1),N={class:"modal fade",id:"employer-form-mdl","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},V={class:"modal-dialog modal-lg"},b={class:"modal-content"},_={class:"modal-header"},h={class:"modal-title",id:"staticBackdropLabel"},k=(0,o.createVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),g={class:"modal-body"},C={class:"d-flex flex-column"},S=(0,o.createStaticVNode)('<div class="row" data-v-f0f1f300><div class="col-sm-12 col-lg-6" data-v-f0f1f300><label data-v-f0f1f300>Agency / Company</label><select id="select2-agencies" class="form-select select2" data-v-f0f1f300></select></div><div class="col-sm-12 col-lg-6" data-v-f0f1f300><label data-v-f0f1f300>Employer</label><select id="select2-employers" class="form-select select2" data-v-f0f1f300></select></div></div>',1),x={class:"row"},T=(0,o.createVNode)("div",{class:"col-sm-12 col-lg-6"},[(0,o.createVNode)("label",null,"Worker"),(0,o.createVNode)("select",{id:"select2-worker",class:"form-select select2"})],-1),B={class:"col-sm-12 col-lg-6"},M=(0,o.createVNode)("label",null,"Case No.",-1),D={class:"col-sm-12 col-lg-6"},O=(0,o.createVNode)("label",null,"Case Officer / Welfare",-1),F={class:"row"},U=(0,o.createStaticVNode)('<div class="col-12 mb-1" data-v-f0f1f300><label data-v-f0f1f300>Status</label><select id="select2-status" class="form-control select2" data-v-f0f1f300><option value="" data-v-f0f1f300> -- None --</option><option value="warning" data-v-f0f1f300>Warning</option><option value="suspended" data-v-f0f1f300>Suspended</option><option value="lifted" data-v-f0f1f300>Lifted</option></select></div>',1),j={key:0,class:"col-sm-12 col-lg-6"},I=(0,o.createVNode)("label",null,"Suspension Date",-1),W={key:1,class:"col-sm-12 col-lg-6"},E=(0,o.createVNode)("label",null,"No. Of Days Suspended",-1),L={key:2,class:"col-sm-12 col-lg-6"},P=(0,o.createVNode)("label",null,"No. Of Days Warning",-1),A={key:3,class:"col-sm-12 col-lg-6"},R=(0,o.createVNode)("label",null,"Lifted Date",-1),X={class:"row"},q={class:"col-12"},z=(0,o.createVNode)("label",null,"Nature of Complaint",-1),G={class:"col-12"},H=(0,o.createVNode)("label",null,"Remarks",-1),J={class:"modal-footer"},K=(0,o.createVNode)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1);(0,o.popScopeId)();var Q=l((function(e,a,t,l,$,Q){return(0,o.openBlock)(),(0,o.createBlock)(o.Fragment,null,[s,(0,o.createVNode)("div",null,[(0,o.createVNode)("div",c,[r,(0,o.createVNode)("div",d,[(0,o.createVNode)("div",n,[(0,o.createVNode)("div",i,[v,(0,o.createVNode)("div",m,[(0,o.createVNode)("div",p,[(0,o.createVNode)("div",u,[(0,o.createVNode)("button",{onClick:a[1]||(a[1]=function(){return Q.showFormMdl&&Q.showFormMdl.apply(Q,arguments)}),class:"btn btn-primary"},[f,w])]),y])])])])])]),(0,o.createVNode)("div",N,[(0,o.createVNode)("div",V,[(0,o.createVNode)("div",b,[(0,o.createVNode)("div",_,[(0,o.createVNode)("h5",h,(0,o.toDisplayString)($.overview.title),1),k]),(0,o.createVNode)("div",g,[(0,o.createVNode)("div",C,[S,(0,o.createVNode)("div",x,[T,(0,o.createVNode)("div",B,[M,(0,o.withDirectives)((0,o.createVNode)("input",{type:"number",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=function(e){return $.overview.atnsia_no=e})},null,512),[[o.vModelText,$.overview.atnsia_no]])]),(0,o.createVNode)("div",D,[O,(0,o.withDirectives)((0,o.createVNode)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[3]||(a[3]=function(e){return $.overview.case_officer=e})},null,512),[[o.vModelText,$.overview.case_officer]])])]),(0,o.createVNode)("div",F,[U,"suspended"==$.overview.status?((0,o.openBlock)(),(0,o.createBlock)("div",j,[I,(0,o.withDirectives)((0,o.createVNode)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[4]||(a[4]=function(e){return $.overview.suspension_date=e})},null,512),[[o.vModelText,$.overview.suspension_date]])])):(0,o.createCommentVNode)("",!0),"suspended"==$.overview.status?((0,o.openBlock)(),(0,o.createBlock)("div",W,[E,(0,o.withDirectives)((0,o.createVNode)("input",{type:"number",class:"form-control","onUpdate:modelValue":a[5]||(a[5]=function(e){return $.overview.days_suspended=e})},null,512),[[o.vModelText,$.overview.days_suspended]])])):(0,o.createCommentVNode)("",!0),"warning"==$.overview.status?((0,o.openBlock)(),(0,o.createBlock)("div",L,[P,(0,o.withDirectives)((0,o.createVNode)("input",{type:"number",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=function(e){return $.overview.days_warning=e})},null,512),[[o.vModelText,$.overview.days_warning]])])):(0,o.createCommentVNode)("",!0),"lifted"==$.overview.status?((0,o.openBlock)(),(0,o.createBlock)("div",A,[R,(0,o.withDirectives)((0,o.createVNode)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=function(e){return $.overview.lifted_date=e})},null,512),[[o.vModelText,$.overview.lifted_date]])])):(0,o.createCommentVNode)("",!0)])]),(0,o.createVNode)("div",X,[(0,o.createVNode)("div",q,[z,(0,o.withDirectives)((0,o.createVNode)("textarea",{class:"form-control","onUpdate:modelValue":a[8]||(a[8]=function(e){return $.overview.complaint=e})},null,512),[[o.vModelText,$.overview.complaint]])]),(0,o.createVNode)("div",G,[H,(0,o.withDirectives)((0,o.createVNode)("textarea",{class:"form-control","onUpdate:modelValue":a[9]||(a[9]=function(e){return $.overview.remarks=e})},null,512),[[o.vModelText,$.overview.remarks]])])])]),(0,o.createVNode)("div",J,[K,(0,o.createVNode)("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:a[10]||(a[10]=function(){return Q.store&&Q.store.apply(Q,arguments)})}," Save ")])])])])])],64)}));const Y={name:"Cases",props:["data"],data:function(){return{dt:null,overview:{status:"",company_id:"",suspension_date:"",lifted_date:"",days_suspended:"",days_warning:"",employer_id:"",case_officer:"",worker_id:"",atnsia_no:"",complaint_id:"",complaint:"",remarks:"",title:"New Case"},caseFormMdl:null}},methods:{showFormMdl:function(){this.caseFormMdl.show(),$(".select2").val("").trigger("change"),this.overview={status:"",company_id:"",suspension_date:"",lifted_date:"",days_suspended:"",employer_id:"",case_officer:"",worker_id:"",atnsia_no:"",complaint_id:"",complaint:"",remarks:"",title:"New Case"}},store:function(){var e=this;axios.post(this.data.cases_store_link,this.overview).then((function(){e.dt.draw()}))},select2Binder:function(e,a,t){$(e).append('<option value="'+a+'">'+t+"</option>"),$(e).val(a),$(e).trigger("change")}},mounted:function(){var e=this;e.caseFormMdl=new bootstrap.Modal(document.getElementById("employer-form-mdl"),{keyboard:!1}),e.dt=$("#cases-table").DataTable({serverSide:!0,scrollX:!0,ajax:{url:e.data.cases_table_link,type:"POST"},order:[[0,"desc"]],columns:[{data:"id",name:"id",title:"ID"},{data:"status_btn",name:"status",title:"Status"},{data:"company.name",name:"company.name",title:"Agency / Company"},{data:"company.type",name:"company.type",title:"Company Type"},{data:"employer.name",name:"employer.name",title:"Employer"},{data:"case_officer",name:"case_officer",title:"Case Officer"},{data:"full_name",name:"worker.last_name",title:"Worker"},{data:"atnsia_no",name:"worker.atnsia_no",title:"Case No."}],drawCallback:function(a){$(".btn-name").on("click",(function(){e.caseFormMdl.show(),e.overview=e.dt.row($(this).parent().parent()).data(),e.overview.title="Edit Case",e.select2Binder("#select2-agencies",e.overview.company_id,e.overview.company.name),e.select2Binder("#select2-worker",e.overview.worker_id,e.overview.full_name),e.select2Binder("#select2-employers",e.overview.employer_id,e.overview.employer.name),$("#select2-status").val(e.overview.status).trigger("change")}))}}),$("#select2-agencies").select2({allowClear:!0,placeholder:"-- Select Option --",theme:"bootstrap-5",ajax:{url:e.data.list_agencies_link,dataType:"json",method:"POST"}}).on("select2:select",(function(a){e.overview.company_id=a.params.data.id})),$("#select2-worker").select2({allowClear:!0,placeholder:"-- Select Option --",theme:"bootstrap-5",ajax:{url:e.data.list_workers_link,dataType:"json",method:"POST"}}).on("select2:select",(function(a){e.overview.worker_id=a.params.data.id})),$("#select2-employers").select2({allowClear:!0,placeholder:"-- Select Option --",theme:"bootstrap-5",ajax:{url:e.data.list_employers_link,dataType:"json",method:"POST"}}).on("select2:select",(function(a){e.overview.employer_id=a.params.data.id})),$("#select2-status").select2({allowClear:!0,placeholder:"-- Select Option --",theme:"bootstrap-5"}).on("select2:select",(function(a){e.overview.status=a.params.data.id}))}};Y.render=Q,Y.__scopeId="data-v-f0f1f300";const Z=Y}}]);
//# sourceMappingURL=494.js.map?id=334667fea9d21954fee4