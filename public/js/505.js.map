{"version":3,"sources":["webpack:///./resources/js/Pages/Cases.vue","webpack:///./resources/js/Pages/Cases.vue?4133"],"names":["class","id","style","type","tabindex","showFormMdl","overview","title","atnsia_no","case_officer","status","suspension_date","days_suspended","days_warning","lifted_date","complaint","remarks","store","company","name","email","notify","props","data","dt","caseFormMdl","notifierFormMdl","methods","this","show","$","val","trigger","$this","axios","post","cases_store_link","then","draw","select2Binder","value","label","append","case_notify_link","alertify","success","mounted","bootstrap","Modal","document","getElementById","keyboard","DataTable","serverSide","ajax","url","cases_table_link","drawCallback","settings","on","row","parent","company_id","worker_id","full_name","employer_id","employer","click","select2","allowClear","placeholder","theme","list_agencies_link","dataType","method","e","params","list_workers_link","list_employers_link","render"],"mappings":"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","file":"js/505.js?id=43c71d17490f850951b9","sourcesContent":["<template>\n    <head>\n        <title>Cases</title>\n    </head>\n    <div>\n        <div class=\"container-fluid p-0\">\n            <h1 class=\"h3 mb-3\">Cases</h1>\n            <div class=\"row\">\n                <div class=\"col-12\">\n                    <div class=\"card\">\n                        <div class=\"card-header\">\n                            Overview\n                        </div>\n                        <div class=\"card-body px-1 py-2\">\n                            <div class=\"row p-4\">\n                                <div class=\"col-md-12\">\n                                    <button @click=\"showFormMdl\" class=\"btn btn-primary\"><i\n                                        class=\"fas fa-plus\"></i> Add Case\n                                    </button>\n                                </div>\n                                <div class=\"col-md-12 mt-4\">\n                                    <table id=\"cases-table\" class=\"table table-bordered nowrap\"\n                                           style=\"width: 100%\"></table>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Company form -->\n        <div class=\"modal fade\" id=\"employer-form-mdl\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\"\n             aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\n            <div class=\"modal-dialog modal-lg\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\" id=\"staticBackdropLabel\">{{ overview.title }}</h5>\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                    </div>\n                    <div class=\"modal-body\">\n                        <div class=\"d-flex flex-column\">\n                            <div class=\"row\">\n                                <div class=\"col-sm-12 col-lg-6\">\n                                    <label>Agency / Company</label>\n                                    <select id=\"select2-agencies\" class=\"form-select select2\"></select>\n                                </div>\n                                <div class=\"col-sm-12 col-lg-6\">\n                                    <label>Employer</label>\n                                    <select id=\"select2-employers\" class=\"form-select select2\"></select>\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-sm-12 col-lg-6\">\n                                    <label>Worker</label>\n                                    <select id=\"select2-worker\" class=\"form-select select2\"></select>\n                                </div>\n                                <div class=\"col-sm-12 col-lg-6\">\n                                    <label>Case No.</label>\n                                    <input type=\"number\" class=\"form-control\" v-model=\"overview.atnsia_no\">\n                                </div>\n                                <div class=\"col-sm-12 col-lg-6\">\n                                    <label>Case Officer / Welfare</label>\n                                    <input type=\"text\" class=\"form-control\" v-model=\"overview.case_officer\">\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-12 mb-1\">\n                                    <label>Status</label>\n                                    <select id=\"select2-status\" class=\"form-control select2\">\n                                        <option value=\"\"> -- None --</option>\n                                        <option value=\"warning\">Warning</option>\n                                        <option value=\"suspended\">Suspended</option>\n                                        <option value=\"lifted\">Lifted</option>\n                                    </select>\n                                </div>\n                                <div class=\"col-sm-12 col-lg-6\" v-if=\"overview.status == 'suspended'\">\n                                    <label>Suspension Date</label>\n                                    <input type=\"date\" class=\"form-control\" v-model=\"overview.suspension_date\">\n                                </div>\n                                <div class=\"col-sm-12 col-lg-6\" v-if=\"overview.status == 'suspended'\">\n                                    <label>No. Of Days Suspended</label>\n                                    <input type=\"number\" class=\"form-control\" v-model=\"overview.days_suspended\">\n                                </div>\n                                <div class=\"col-sm-12 col-lg-6\" v-if=\"overview.status == 'warning'\">\n                                    <label>No. Of Days Warning</label>\n                                    <input type=\"number\" class=\"form-control\" v-model=\"overview.days_warning\">\n                                </div>\n                                <div class=\"col-sm-12 col-lg-6\" v-if=\"overview.status == 'lifted'\">\n                                    <label>Lifted Date</label>\n                                    <input type=\"date\" class=\"form-control\" v-model=\"overview.lifted_date\">\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-12\">\n                                <label>Nature of Complaint</label>\n                                <textarea class=\"form-control\" v-model=\"overview.complaint\"></textarea>\n                            </div>\n                            <div class=\"col-12\">\n                                <label>Remarks</label>\n                                <textarea class=\"form-control\" v-model=\"overview.remarks\"></textarea>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                        <button type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\" @click=\"store\">\n                            Save\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Notifier Form-->\n        <div class=\"modal fade\" id=\"notifier-form-mdl\" tabindex=\"-1\">\n            <div class=\"modal-dialog\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">{{ overview.title }}</h5>\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                    </div>\n                    <div class=\"modal-body\">\n                        <div class=\"d-flex flex-column\">\n                            <div class=\"row mb-2\">\n                                <div class=\"col-auto\">Email To:</div>\n                                <div class=\"col-auto fw-bold\">\n                                    <label v-if=\"overview.company\">\n                                        <i class=\"badge bg-info-dark\">{{ overview.company.type }}</i>\n                                        {{ overview.company.name }}\n                                        &lt;{{ overview.company.email }}></label>\n                                </div>\n                            </div>\n                            <hr>\n                            <div class=\"mb-2\">\n                                <label>Nature Of Complaint:</label>\n                                <p class=\"fw-bold\">{{ overview.complaint }}</p>\n                            </div>\n                            <div class=\"mb-2\">\n                                <label>Remarks:</label>\n                                <p class=\"fw-bold\">{{ overview.remarks }}</p>\n                            </div>\n                            <div class=\"mb-2\">\n                                <label>Status:</label>\n                                <p class=\"fw-bold text-capitalize bg-danger text-white p-2\"\n                                   v-if=\"overview.status === 'suspended'\">\n                                    {{ overview.status }} {{ overview.days_suspended }} Days\n                                </p>\n                                <p class=\"fw-bold text-capitalize bg-warning p-2\"\n                                   v-else-if=\"overview.status === 'warning'\">\n                                    {{ overview.status }} {{ overview.days_warning }} Days\n                                </p>\n                                <p class=\"fw-bold text-capitalize bg-success text-white p-2\" v-else>\n                                    {{ overview.status }}\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                        <button type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\" @click=\"notify\">Send\n                            Notification\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n\nexport default {\n    name: \"Cases\",\n    props: ['data'],\n    data() {\n        return {\n            dt: null,\n            overview: {\n                'status': '',\n                'company_id': '',\n                'suspension_date': '',\n                'lifted_date': '',\n                'days_suspended': '',\n                'days_warning': '',\n                'employer_id': '',\n                'case_officer': '',\n                'worker_id': '',\n                'atnsia_no': '',\n                'complaint_id': '',\n                'complaint': '',\n                'remarks': '',\n                'title': 'New Case',\n            },\n            caseFormMdl: null,\n            notifierFormMdl: null,\n        }\n    },\n    methods: {\n        showFormMdl() {\n            this.caseFormMdl.show();\n            $('.select2').val('').trigger('change');\n            this.overview = {\n                'status': '',\n                'company_id': '',\n                'suspension_date': '',\n                'lifted_date': '',\n                'days_suspended': '',\n                'employer_id': '',\n                'case_officer': '',\n                'worker_id': '',\n                'atnsia_no': '',\n                'complaint_id': '',\n                'complaint': '',\n                'remarks': '',\n                'title': 'New Case',\n            };\n        },\n        store() {\n            var $this = this;\n            axios.post(this.data.cases_store_link, this.overview)\n                .then(function () {\n                    $this.dt.draw();\n                });\n        },\n        select2Binder(id, value, label) {\n            $(id).append('<option value=\"' + value + '\">' + label + '</option>');\n            $(id).val(value);\n            $(id).trigger('change');\n        },\n        notify() {\n            axios.post(this.data.case_notify_link, this.overview)\n                .then(function () {\n                    alertify.success('<label class=\"text-white\">Notification has been Sent!</label>');\n                });\n        }\n    },\n    mounted() {\n        const $this = this;\n\n        $this.caseFormMdl = new bootstrap.Modal(document.getElementById('employer-form-mdl'), {\n            keyboard: false\n        });\n\n        $this.notifierFormMdl = new bootstrap.Modal(document.getElementById('notifier-form-mdl'), {\n            keyboard: false\n        });\n\n        $this.dt = $('#cases-table').DataTable({\n            serverSide: true,\n            \"scrollX\": true,\n            ajax: {\n                url: $this.data.cases_table_link,\n                type: 'POST'\n            },\n            \"order\": [[0, \"desc\"]],\n            \"columns\": [\n                {\"data\": \"id\", \"name\": \"id\", \"title\": \"ID\"},\n                {\"data\": \"status_btn\", \"name\": \"status\", \"title\": \"Status\"},\n                {\"data\": \"company_name_display\", \"name\": \"company.name\", \"title\": \"Agency / Company\"},\n                {\"data\": \"company.type\", \"name\": \"company.type\", \"title\": \"Company Type\"},\n                {\"data\": \"employer.name\", \"name\": \"employer.name\", \"title\": \"Employer\"},\n                {\"data\": \"case_officer\", \"name\": \"case_officer\", \"title\": \"Case Officer\"},\n                {\"data\": \"full_name\", \"name\": \"worker.last_name\", \"title\": \"Worker\"},\n                {\"data\": \"atnsia_no\", \"name\": \"worker.atnsia_no\", \"title\": \"Case No.\"},\n            ],\n            drawCallback: function (settings) {\n                $('.btn-name').on('click', function () {\n                    $this.caseFormMdl.show();\n                    $this.overview = $this.dt.row($(this).parent().parent()).data();\n                    $this.overview.title = \"Edit Case\"\n\n                    $this.select2Binder(\"#select2-agencies\", $this.overview.company_id, $this.overview.company.name)\n                    $this.select2Binder(\"#select2-worker\", $this.overview.worker_id, $this.overview.full_name)\n                    $this.select2Binder(\"#select2-employers\", $this.overview.employer_id, $this.overview.employer.name)\n                    $('#select2-status').val($this.overview.status).trigger('change');\n                });\n\n                $('.btn-notifier').click(function () {\n                    $this.notifierFormMdl.show();\n                    $this.overview = $this.dt.row($(this).parent().parent()).data();\n                    $this.overview.title = \"Message Preview\"\n                });\n            }\n        });\n\n        $(\"#select2-agencies\").select2({\n            allowClear: true,\n            placeholder: \"-- Select Option --\",\n            theme: \"bootstrap-5\",\n            ajax: {\n                url: $this.data.list_agencies_link,\n                dataType: 'json',\n                method: 'POST',\n            }\n        }).on('select2:select', function (e) {\n            $this.overview.company_id = e.params.data.id;\n        });\n\n        $(\"#select2-worker\").select2({\n            allowClear: true,\n            placeholder: \"-- Select Option --\",\n            theme: \"bootstrap-5\",\n            ajax: {\n                url: $this.data.list_workers_link,\n                dataType: 'json',\n                method: 'POST',\n            }\n        }).on('select2:select', function (e) {\n            $this.overview.worker_id = e.params.data.id;\n        });\n\n        $(\"#select2-employers\").select2({\n            allowClear: true,\n            placeholder: \"-- Select Option --\",\n            theme: \"bootstrap-5\",\n            ajax: {\n                url: $this.data.list_employers_link,\n                dataType: 'json',\n                method: 'POST',\n            }\n        }).on('select2:select', function (e) {\n            $this.overview.employer_id = e.params.data.id;\n        });\n\n        $(\"#select2-status\").select2({\n            allowClear: true,\n            placeholder: \"-- Select Option --\",\n            theme: \"bootstrap-5\",\n        }).on('select2:select', function (e) {\n            $this.overview.status = e.params.data.id;\n        });\n    }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import { render } from \"./Cases.vue?vue&type=template&id=33299577&scoped=true\"\nimport script from \"./Cases.vue?vue&type=script&lang=js\"\nexport * from \"./Cases.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-33299577\"\n\nexport default script"],"sourceRoot":""}