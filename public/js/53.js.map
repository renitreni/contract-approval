{"version":3,"sources":["webpack:///./resources/js/Pages/Cases.vue","webpack:///./resources/js/Pages/Cases.vue?4133"],"names":["class","id","style","type","showFormMdl","overview","title","atnsia_no","case_officer","status","suspension_date","days_suspended","lifted_date","complaint","remarks","store","name","props","data","dt","caseFormMdl","methods","this","show","$","val","trigger","$this","axios","post","cases_store_link","then","draw","select2Binder","value","label","append","mounted","bootstrap","Modal","document","getElementById","keyboard","DataTable","serverSide","ajax","url","cases_table_link","drawCallback","settings","on","row","parent","company_id","company","worker_id","full_name","employer_id","employer","select2","allowClear","placeholder","theme","list_agencies_link","dataType","method","e","params","list_workers_link","list_employers_link","render"],"mappings":"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","file":"js/53.js?id=316f15ef58424afcad4f","sourcesContent":["<template>\n    <head>\n        <title>Cases</title>\n    </head>\n    <div>\n        <div class=\"container-fluid p-0\">\n            <h1 class=\"h3 mb-3\">Cases</h1>\n            <div class=\"row\">\n                <div class=\"col-12\">\n                    <div class=\"card\">\n                        <div class=\"card-header\">\n                            Overview\n                        </div>\n                        <div class=\"card-body px-1 py-2\">\n                            <div class=\"row p-4\">\n                                <div class=\"col-md-12\">\n                                    <button @click=\"showFormMdl\" class=\"btn btn-primary\"><i\n                                        class=\"fas fa-plus\"></i> Add Case\n                                    </button>\n                                </div>\n                                <div class=\"col-md-12 mt-4\">\n                                    <table id=\"cases-table\" class=\"table table-bordered nowrap\"\n                                           style=\"width: 100%\"></table>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Company form -->\n        <div class=\"modal fade\" id=\"employer-form-mdl\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\"\n             aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\n            <div class=\"modal-dialog modal-lg\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\" id=\"staticBackdropLabel\">{{ overview.title }}</h5>\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                    </div>\n                    <div class=\"modal-body\">\n                        <div class=\"d-flex flex-column\">\n                            <div class=\"row\">\n                                <div class=\"col-sm-12 col-lg-6\">\n                                    <label>Agency / Company</label>\n                                    <select id=\"select2-agencies\" class=\"form-select select2\"></select>\n                                </div>\n                                <div class=\"col-sm-12 col-lg-6\">\n                                    <label>Employer</label>\n                                    <select id=\"select2-employers\" class=\"form-select select2\"></select>\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-sm-12 col-lg-6\">\n                                    <label>Worker</label>\n                                    <select id=\"select2-worker\" class=\"form-select select2\"></select>\n                                </div>\n                                <div class=\"col-sm-12 col-lg-6\">\n                                    <label>ATNSIA No.</label>\n                                    <input type=\"number\" class=\"form-control\" v-model=\"overview.atnsia_no\">\n                                </div>\n                                <div class=\"col-sm-12 col-lg-6\">\n                                    <label>Case Officer / Welfare</label>\n                                    <input type=\"text\" class=\"form-control\" v-model=\"overview.case_officer\">\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-12 mb-1\">\n                                    <label>Status</label>\n                                    <select id=\"select2-status\" class=\"form-control select2\">\n                                        <option value=\"\"> -- None --</option>\n                                        <option value=\"warning\">Warning</option>\n                                        <option value=\"suspended\">Suspended</option>\n                                        <option value=\"lifted\">Lifted</option>\n                                    </select>\n                                </div>\n                                <div class=\"col-sm-12 col-lg-6\" v-if=\"overview.status == 'suspended'\">\n                                    <label>Suspension Date</label>\n                                    <input type=\"date\" class=\"form-control\" v-model=\"overview.suspension_date\">\n                                </div>\n                                <div class=\"col-sm-12 col-lg-6\" v-if=\"overview.status == 'suspended'\">\n                                    <label>No. Of Days Suspended</label>\n                                    <input type=\"number\" class=\"form-control\" v-model=\"overview.days_suspended\">\n                                </div>\n                                <div class=\"col-sm-12 col-lg-6\" v-if=\"overview.status == 'lifted'\">\n                                    <label>Lifted Date</label>\n                                    <input type=\"date\" class=\"form-control\" v-model=\"overview.lifted_date\">\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-12\">\n                                <label>Nature of Complaint</label>\n                                <textarea class=\"form-control\" v-model=\"overview.complaint\"></textarea>\n                            </div>\n                            <div class=\"col-12\">\n                                <label>Remarks</label>\n                                <textarea class=\"form-control\" v-model=\"overview.remarks\"></textarea>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                        <button type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\" @click=\"store\">\n                            Save\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n\nexport default {\n    name: \"Cases\",\n    props: ['data'],\n    data() {\n        return {\n            dt: null,\n            overview: {\n                'status': '',\n                'company_id': '',\n                'suspension_date': '',\n                'lifted_date': '',\n                'days_suspended': '',\n                'employer_id': '',\n                'case_officer': '',\n                'worker_id': '',\n                'atnsia_no': '',\n                'complaint_id': '',\n                'complaint': '',\n                'remarks': '',\n                'title': 'New Case',\n            },\n            caseFormMdl: null,\n        }\n    },\n    methods: {\n        showFormMdl() {\n            this.caseFormMdl.show();\n            $('.select2').val('').trigger('change');\n            this.overview = {\n                'status': '',\n                'company_id': '',\n                'suspension_date': '',\n                'lifted_date': '',\n                'days_suspended': '',\n                'employer_id': '',\n                'case_officer': '',\n                'worker_id': '',\n                'atnsia_no': '',\n                'complaint_id': '',\n                'complaint': '',\n                'remarks': '',\n                'title': 'New Case',\n            };\n        },\n        store() {\n            var $this = this;\n            axios.post(this.data.cases_store_link, this.overview)\n                .then(function () {\n                    $this.dt.draw();\n                });\n        },\n        select2Binder(id, value, label) {\n            $(id).append('<option value=\"' + value + '\">' + label + '</option>');\n            $(id).val(value);\n            $(id).trigger('change');\n        }\n    },\n    mounted() {\n        const $this = this;\n\n        $this.caseFormMdl = new bootstrap.Modal(document.getElementById('employer-form-mdl'), {\n            keyboard: false\n        });\n\n        $this.dt = $('#cases-table').DataTable({\n            serverSide: true,\n            \"scrollX\": true,\n            ajax: {\n                url: $this.data.cases_table_link,\n                type: 'POST'\n            },\n            \"order\": [[0, \"desc\"]],\n            \"columns\": [\n                {\"data\": \"id\", \"name\": \"id\", \"title\": \"ID\"},\n                {\"data\": \"status_btn\", \"name\": \"status\", \"title\": \"Status\"},\n                {\"data\": \"company.name\", \"name\": \"company.name\", \"title\": \"Agency / Company\"},\n                {\"data\": \"company.type\", \"name\": \"company.type\", \"title\": \"Company Type\"},\n                {\"data\": \"employer.name\", \"name\": \"employer.name\", \"title\": \"Employer\"},\n                {\"data\": \"suspension_date_display\", \"name\": \"suspension_date\", \"title\": \"Suspension Date\"},\n                {\"data\": \"days_suspended\", \"name\": \"days_suspended\", \"title\": \"Days Suspended\"},\n                {\"data\": \"case_officer\", \"name\": \"case_officer\", \"title\": \"Case Officer\"},\n                {\"data\": \"full_name\", \"name\": \"worker.last_name\", \"title\": \"Worker\"},\n                {\"data\": \"atnsia_no\", \"name\": \"worker.atnsia_no\", \"title\": \"ATNSIA No.\"},\n            ],\n            drawCallback: function (settings) {\n                $('.btn-name').on('click', function () {\n                    $this.caseFormMdl.show();\n                    $this.overview = $this.dt.row($(this).parent().parent()).data();\n                    $this.overview.title = \"Edit Case\"\n\n                    $this.select2Binder(\"#select2-agencies\", $this.overview.company_id, $this.overview.company.name)\n                    $this.select2Binder(\"#select2-worker\", $this.overview.worker_id, $this.overview.full_name)\n                    $this.select2Binder(\"#select2-employers\", $this.overview.employer_id, $this.overview.employer.name)\n                    $('#select2-status').val($this.overview.status).trigger('change');\n                });\n            }\n        });\n\n        $(\"#select2-agencies\").select2({\n            allowClear: true,\n            placeholder: \"-- Select Option --\",\n            theme: \"bootstrap-5\",\n            ajax: {\n                url: $this.data.list_agencies_link,\n                dataType: 'json',\n                method: 'POST',\n            }\n        }).on('select2:select', function (e) {\n            $this.overview.company_id = e.params.data.id;\n        });\n\n        $(\"#select2-worker\").select2({\n            allowClear: true,\n            placeholder: \"-- Select Option --\",\n            theme: \"bootstrap-5\",\n            ajax: {\n                url: $this.data.list_workers_link,\n                dataType: 'json',\n                method: 'POST',\n            }\n        }).on('select2:select', function (e) {\n            $this.overview.worker_id = e.params.data.id;\n        });\n\n        $(\"#select2-employers\").select2({\n            allowClear: true,\n            placeholder: \"-- Select Option --\",\n            theme: \"bootstrap-5\",\n            ajax: {\n                url: $this.data.list_employers_link,\n                dataType: 'json',\n                method: 'POST',\n            }\n        }).on('select2:select', function (e) {\n            $this.overview.employer_id = e.params.data.id;\n        });\n\n        $(\"#select2-status\").select2({\n            allowClear: true,\n            placeholder: \"-- Select Option --\",\n            theme: \"bootstrap-5\",\n        }).on('select2:select', function (e) {\n            $this.overview.status = e.params.data.id;\n        });\n    }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import { render } from \"./Cases.vue?vue&type=template&id=7409da1f&scoped=true\"\nimport script from \"./Cases.vue?vue&type=script&lang=js\"\nexport * from \"./Cases.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-7409da1f\"\n\nexport default script"],"sourceRoot":""}