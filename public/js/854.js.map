{"version":3,"sources":["webpack:///./resources/js/Pages/Contracts.vue","webpack:///./resources/js/Pages/Contracts.vue?b2fa"],"names":["id","class","tabindex","type","other_details","custom_id","contents","item","label","viewImage","value","approve","src","image_path","style","name","props","data","dt","contract_overview_modal","methods","showOverview","$this","this","axios","post","contract_overview_link","then","other","show","link","contract_image_modal","alertify","confirm","contracts_approval","hide","draw","alert","window","location","error","mounted","bootstrap","Modal","document","getElementById","keyboard","$","DataTable","serverSide","ajax","url","contract_pending_table_link","drawCallback","settings","on","row","parent","render"],"mappings":"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","file":"js/854.js?id=58c1562101ace58b814f","sourcesContent":["<template>\n    <div>\n        <div class=\"container-fluid p-0\">\n            <h1 class=\"h3 mb-3\">Pending Contracts</h1>\n            <div class=\"row\">\n                <div class=\"col-12\">\n                    <div class=\"card\">\n                        <div class=\"card-header\">\n                            Pending Contracts\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"row\">\n                                <div class=\"col-12 mt-3\">\n                                    <table id=\"contracts-table\" class=\"table table-hover\" style=\"width: 100%\"></table>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Contract Overview Modal -->\n        <div id=\"contract-overview-modal\" class=\"modal fade\" tabindex=\"-1\">\n            <div class=\"modal-dialog modal-xl\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">Contract Overview Of {{ other_details.type }} <u>{{ other_details.custom_id }}</u></h5>\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                    </div>\n                    <div class=\"modal-body\">\n                        <div class=\"row\">\n                            <div class=\"col-auto m-1 border p-3\" v-for=\"item in contents\">\n                                <span class=\"me-4\">{{ item.label }}</span>\n                                <button class=\"btn btn-primary\" @click=\"viewImage(item.value)\">View</button>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button class=\"btn btn-success text-white\" @click=\"approve\">Approve</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Contract Image Modal -->\n        <div id=\"contract-image-modal\" class=\"modal fade\" tabindex=\"-1\">\n            <div class=\"modal-dialog modal-fullscreen\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">Contract Overview Of <u>{{ other_details.custom_id }}</u></h5>\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                    </div>\n                    <div class=\"modal-body\">\n                        <img v-bind:src=\"'/storage/' + image_path\" style=\"width:100%\">\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"Contracts\",\n        props: ['data'],\n        data() {\n            return {\n                dt: null,\n                contents: {},\n                other_details: {},\n                image_path: '',\n                contract_overview_modal: null,\n            }\n        },\n        methods: {\n            showOverview(id) {\n                var $this = this;\n                axios.post(this.data.contract_overview_link, {id: id}).then(function (value) {\n                    $this.contents = value.data.contents;\n                    $this.other_details = value.data.other;\n                    $this.contract_overview_modal.show();\n                });\n            },\n            viewImage(link) {\n                this.image_path = link;\n                this.contract_image_modal.show()\n            },\n            approve(){\n                var $this = this;\n                alertify.confirm(\"Approval Confirmation\", \"Do you confirm?\",\n                    function(){\n                        axios.post($this.data.contracts_approval, $this.other_details).then(function () {\n\n                            $this.contract_overview_modal.hide();\n                            $this.dt.draw();\n                            alertify.alert(\"You successfully approved the contract!\", function(){\n                                    window.location = '/contracts';\n                                });\n                        });\n                    },\n                    function(){\n                        alertify.error('Cancel');\n                    });\n            }\n        },\n        mounted() {\n            var $this = this;\n\n            $this.contract_overview_modal = new bootstrap.Modal(document.getElementById('contract-overview-modal'), {\n                keyboard: false\n            });\n\n            $this.contract_image_modal = new bootstrap.Modal(document.getElementById('contract-image-modal'), {\n                keyboard: false\n            });\n\n            $this.dt = $('#contracts-table').DataTable({\n                serverSide: true,\n                ajax: {\n                    url: $this.data.contract_pending_table_link,\n                    type: 'POST'\n                },\n                \"order\": [[0, \"desc\"]],\n                \"columns\": [\n                    {\n                        \"data\": function (value) {\n                            return '<button type=\"button\" class=\"btn-custom-id btn btn-sm btn-link\">' +\n                                value.custom_id + '</button>';\n                        }, \"name\": \"custom_id\", \"title\": \"Contract No.\"\n                    },\n                    {\"data\": 'type', \"name\": \"type\", \"title\": \"Type\"},\n                    {\"data\": 'status', \"name\": \"ca.status\", \"title\": \"Status\"},\n                    {\"data\": 'creator.name', \"name\": \"creator.name\", \"title\": \"Sent By\"},\n                    {\"data\": 'created_at', \"name\": \"created_at\", \"title\": \"Date Submitted\"},\n                ],\n                drawCallback: function (settings) {\n                    $('body .btn-custom-id').on('click', function () {\n                        $this.showOverview($this.dt.row($(this).parent()).data().id);\n                    });\n                }\n            });\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n","import { render } from \"./Contracts.vue?vue&type=template&id=8f0fd848&scoped=true\"\nimport script from \"./Contracts.vue?vue&type=script&lang=js\"\nexport * from \"./Contracts.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-8f0fd848\"\n\nexport default script"],"sourceRoot":""}